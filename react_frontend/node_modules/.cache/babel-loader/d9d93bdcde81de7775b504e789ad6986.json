{"ast":null,"code":"import _classCallCheck from\"/Users/kierarobinson/Downloads/learning-app-main 2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kierarobinson/Downloads/learning-app-main 2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/kierarobinson/Downloads/learning-app-main 2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/kierarobinson/Downloads/learning-app-main 2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EnergyDistribution=/*#__PURE__*/function(_Component){_inherits(EnergyDistribution,_Component);var _super=_createSuper(EnergyDistribution);function EnergyDistribution(props){var _this;_classCallCheck(this,EnergyDistribution);_this=_super.call(this,props);_this.state={w:243,h:140,color:'#42B0ED',solarComp:0,powerComp:0,gridComp:0};return _this;}_createClass(EnergyDistribution,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.fetchData();this.timer=setInterval(function(){return _this2.fetchData();},30000);}},{key:\"fetchData\",value:function fetchData(){var _this3=this;fetch('http://140.180.133.113:4545/api/v1/resources/campus_power/current').then(function(response){return response.json();}).then(function(result){_this3.setState({solarComp:result.campus_power_composition.solar,powerComp:result.campus_power_composition.campus_power_plant,gridComp:result.campus_power_composition.grid});}).catch(function(e){_this3.setState({errorMessage:e.toString()});console.error('There was an error!',e);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"colorBox\",style:{backgroundColor:this.state.color,width:this.state.w,height:this.state.h,verticalAlign:'top',margin:0},children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:50},children:\"energy composition\"}),/*#__PURE__*/_jsxs(\"div\",{style:{alignContent:'bottom',display:'block'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-block',textAlign:'left',width:69},children:[/*#__PURE__*/_jsxs(\"h6\",{children:[this.state.solarComp,\"%\"]}),\"Solar\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-block',textAlign:'center',width:69},children:[/*#__PURE__*/_jsxs(\"h6\",{children:[this.state.powerComp,\"%\"]}),\"CoGen Plant\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-block',textAlign:'right',width:69},children:[/*#__PURE__*/_jsxs(\"h6\",{children:[this.state.gridComp,\"%\"]}),\"Grid\"]})]})]});}}]);return EnergyDistribution;}(Component);export default EnergyDistribution;","map":{"version":3,"sources":["/Users/kierarobinson/Downloads/learning-app-main 2/src/components/user_specific/u_a1/EnergyDistribution.js"],"names":["React","Component","EnergyDistribution","props","state","w","h","color","solarComp","powerComp","gridComp","fetchData","timer","setInterval","fetch","then","response","json","result","setState","campus_power_composition","solar","campus_power_plant","grid","catch","e","errorMessage","toString","console","error","backgroundColor","width","height","verticalAlign","margin","marginBottom","alignContent","display","textAlign"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,2FAGMC,CAAAA,kB,wHACF,4BAAYC,KAAZ,CAAmB,oDACf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,CAAC,CAAE,GADM,CAETC,CAAC,CAAE,GAFM,CAGTC,KAAK,CAAE,SAHE,CAITC,SAAS,CAAE,CAJF,CAKTC,SAAS,CAAE,CALF,CAMTC,QAAQ,CAAE,CAND,CAAb,CAHe,aAWlB,C,gEAED,4BAAoB,iBAChB,KAAKC,SAAL,GACA,KAAKC,KAAL,CAAaC,WAAW,CAAC,iBAAM,CAAA,MAAI,CAACF,SAAL,EAAN,EAAD,CAAyB,KAAzB,CAAxB,CACH,C,yBAED,oBAAY,iBACRG,KAAK,CAAC,mEAAD,CAAL,CACKC,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,MAAM,CAAI,CACZ,MAAI,CAACC,QAAL,CAAc,CACVX,SAAS,CAAEU,MAAM,CAACE,wBAAP,CAAgCC,KADjC,CAEVZ,SAAS,CAAES,MAAM,CAACE,wBAAP,CAAgCE,kBAFjC,CAGVZ,QAAQ,CAAEQ,MAAM,CAACE,wBAAP,CAAgCG,IAHhC,CAAd,EAKH,CARL,EASKC,KATL,CASW,SAAAC,CAAC,CAAI,CACR,MAAI,CAACN,QAAL,CAAc,CAAEO,YAAY,CAAED,CAAC,CAACE,QAAF,EAAhB,CAAd,EACAC,OAAO,CAACC,KAAR,CAAc,qBAAd,CAAqCJ,CAArC,EACH,CAZL,EAaH,C,sBAED,iBAAS,CACL,mBACI,aAAK,KAAK,CAAC,UAAX,CAAsB,KAAK,CAAE,CAAEK,eAAe,CAAE,KAAK1B,KAAL,CAAWG,KAA9B,CAAqCwB,KAAK,CAAE,KAAK3B,KAAL,CAAWC,CAAvD,CACD2B,MAAM,CAAE,KAAK5B,KAAL,CAAWE,CADlB,CACqB2B,aAAa,CAAE,KADpC,CAC2CC,MAAM,CAAE,CADnD,CAA7B,wBAEI,WAAI,KAAK,CAAE,CAAEC,YAAY,CAAE,EAAhB,CAAX,gCAFJ,cAGI,aAAK,KAAK,CAAE,CAAEC,YAAY,CAAE,QAAhB,CAA0BC,OAAO,CAAE,OAAnC,CAAZ,wBACI,aAAK,KAAK,CAAE,CAAEA,OAAO,CAAE,cAAX,CAA2BC,SAAS,CAAE,MAAtC,CAA8CP,KAAK,CAAE,EAArD,CAAZ,wBACI,sBAAK,KAAK3B,KAAL,CAAWI,SAAhB,OADJ,WADJ,cAKI,aAAK,KAAK,CAAE,CAAE6B,OAAO,CAAE,cAAX,CAA2BC,SAAS,CAAE,QAAtC,CAAgDP,KAAK,CAAE,EAAvD,CAAZ,wBACI,sBAAK,KAAK3B,KAAL,CAAWK,SAAhB,OADJ,iBALJ,cASI,aAAK,KAAK,CAAE,CAAE4B,OAAO,CAAE,cAAX,CAA2BC,SAAS,CAAE,OAAtC,CAA+CP,KAAK,CAAE,EAAtD,CAAZ,wBACI,sBAAK,KAAK3B,KAAL,CAAWM,QAAhB,OADJ,UATJ,GAHJ,GADJ,CAqBH,C,gCAzD4BT,S,EA4DjC,cAAeC,CAAAA,kBAAf","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nclass EnergyDistribution extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            w: 243,\n            h: 140,\n            color: '#42B0ED',\n            solarComp: 0,\n            powerComp: 0,\n            gridComp: 0,\n        }\n    }\n\n    componentDidMount() {\n        this.fetchData();\n        this.timer = setInterval(() => this.fetchData(), 30000);\n    }\n\n    fetchData() {\n        fetch('http://140.180.133.113:4545/api/v1/resources/campus_power/current')\n            .then(response => response.json())\n            .then(result => {\n                this.setState({\n                    solarComp: result.campus_power_composition.solar,\n                    powerComp: result.campus_power_composition.campus_power_plant,\n                    gridComp: result.campus_power_composition.grid,\n                })\n            })\n            .catch(e => {\n                this.setState({ errorMessage: e.toString() });\n                console.error('There was an error!', e);\n            });\n    }\n\n    render() {\n        return (\n            <div class='colorBox' style={{ backgroundColor: this.state.color, width: this.state.w, \n                                        height: this.state.h, verticalAlign: 'top', margin: 0 }}>\n                <h1 style={{ marginBottom: 50 }}>energy composition</h1>\n                <div style={{ alignContent: 'bottom', display: 'block'}}>\n                    <div style={{ display: 'inline-block', textAlign: 'left', width: 69 }}>\n                        <h6>{this.state.solarComp}%</h6>\n                        Solar\n                    </div>\n                    <div style={{ display: 'inline-block', textAlign: 'center', width: 69 }}>\n                        <h6>{this.state.powerComp}%</h6>\n                        CoGen Plant\n                    </div>\n                    <div style={{ display: 'inline-block', textAlign: 'right', width: 69 }}>\n                        <h6>{this.state.gridComp}%</h6>\n                        Grid \n                    </div>\n                </div>\n            </div>\n        );\n\n    }\n}\n\nexport default EnergyDistribution"]},"metadata":{},"sourceType":"module"}